---
import { getCollection } from "astro:content";
const stepCollection = await getCollection("steps");
const steps = stepCollection.map((s) => s.data).slice(0, 5);
---

<h3 class="subheading">How it works</h3>
<div role="list">
  {
    steps.map((step) => (
      <div role="listitem">
        <img src={step.icon.src} />
        <p>{step.text}</p>
      </div>
    ))
  }
</div>

<style>
  [role="list"] {
    display: grid;
    gap: 1rem;
    grid-template-columns: repeat(2, 1fr);
  }

  [role="listitem"] {
    display: grid;
    gap: 0.5rem;
    justify-items: center;
    font-size: 1.25rem;
  }

  @media screen and (min-width: 50rem) {
    [role="list"] {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
    }
  }
</style>
